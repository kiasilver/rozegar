# ุงุณฺฉุฑูพุช ุชุณุช ุฑูุฒูุงููโูุง ุงูุฑูุฒ

ุงู ุงุณฺฉุฑูพุช ุจุฑุง ุจุฑุฑุณ ู ุชุณุช ุนููฺฉุฑุฏ ุฏุงูููุฏ ู ููุงุด ุฑูุฒูุงููโูุง ุงูุฑูุฒ ุทุฑุงุญ ุดุฏู ุงุณุช.

## ูุดฺฉูุงุช ุดูุงุณุง ุดุฏู ู ุงุตูุงุญ ุดุฏู:

### 1. ูุดฺฉู ุณุงุฎุช URL
**ูุดฺฉู:** URL ุจู ุตูุฑุช ุงุดุชุจุงู ุณุงุฎุชู ูโุดุฏ:
```
https://www.pishkhan.com/pdfviewer.php?paper=AkhbarSanat?date=140412&date=14041202
```

**ุงุตูุงุญ:** 
- ุชูุฒ ฺฉุฑุฏู URL ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุงุถุงู
- ุชุจุฏู `?` ุงุถุงู ุจู `&`
- ุชูุฒ ฺฉุฑุฏู ูุงู ุฑูุฒูุงูู ุงุฒ ูพุงุฑุงูุชุฑูุง ุงุถุงู
- ุงุณุชูุงุฏู ุงุฒ `encodeURIComponent` ุจุฑุง ูุงู ุฑูุฒูุงูู

### 2. ูุดฺฉู ููุชุฑ ุชุงุฑุฎ
**ูุดฺฉู:** ุฑูุฒูุงููโูุง ูุฏู ูู ุฏุงูููุฏ ูโุดุฏูุฏ

**ุงุตูุงุญ:**
- ุงุณุชุฎุฑุงุฌ ุชุงุฑุฎ ุงุฒ URL
- ููุงุณู ุจุง ุชุงุฑุฎ ุงูุฑูุฒ
- ุฑุฏ ฺฉุฑุฏู ุฑูุฒูุงููโูุง ฺฉู ุชุงุฑุฎุดุงู ุงูุฑูุฒ ูุณุช

### 3. ูุดฺฉู ููุงุด ุชุงุฑุฎ
**ูุดฺฉู:** ุชุงุฑุฎ ุจู ุตูุฑุช ุงุดุชุจุงู ููุงุด ุฏุงุฏู ูโุดุฏ (ูุซูุงู "11 ุขุฐุฑ 2025")

**ุงุตูุงุญ:**
- ุงุณุชูุงุฏู ุงุฒ ูุฑูุช ุดูุณ ุจุฑุง `dateStr`
- ุงุตูุงุญ ุชูุงุจุน `formatJalaliDate` ู `formatDateForDisplay`
- ุงุณุชูุงุฏู ุงุฒ timezone ุงุฑุงู

## ูุญูู ุงุณุชูุงุฏู:

### ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ ุงุณฺฉุฑูพุช bash
```bash
cd /root/www
./scripts/test-today-newspaper.sh
```

### ุฑูุด 2: ุงุณุชูุงุฏู ูุณุชูู ุงุฒ TypeScript
```bash
cd /root/www
tsx scripts/test-today-newspaper.ts
```

ุง:
```bash
cd /root/www
ts-node scripts/test-today-newspaper.ts
```

## ุฎุฑูุฌ ุงุณฺฉุฑูพุช:

ุงุณฺฉุฑูพุช ุงุทูุงุนุงุช ุฒุฑ ุฑุง ููุงุด ูโุฏูุฏ:

1. **ุชุงุฑุฎ ุงูุฑูุฒ:** ุชุงุฑุฎ ุดูุณ ู ูุฑูุช 8 ุฑูู
2. **Archive API:** ุชุนุฏุงุฏ ุฑูุฒูุงููโูุง ุงูุฑูุฒ ุฏุฑ archive
3. **Newspapers API:** ูุณุช ุฑูุฒูุงููโูุง ู ุจุฑุฑุณ URLูุง PDF
4. **ูุดฺฉูุงุช ุงุญุชูุงู:**
   - URLูุง ูุงูุนุชุจุฑ
   - ุชุงุฑุฎโูุง ูุงุฏุฑุณุช
   - ูุฑูุชโูุง ุงุดุชุจุงู

## ูุซุงู ุฎุฑูุฌ:

```
๐ ุดุฑูุน ุชุณุช ุฑูุฒูุงููโูุง ุงูุฑูุฒ...

๐ ุชุงุฑุฎ ุงูุฑูุฒ (ุดูุณ): 1404/12/02
๐ ุชุงุฑุฎ ุงูุฑูุฒ (8 ุฑูู): 14041202

๐ ุชุณุช API archive...
โ ุชุนุฏุงุฏ ุฑูุฒูุงููโูุง ุงูุฑูุฒ ุฏุฑ archive: 5
๐ ุชุงุฑุฎโูุง ููุฌูุฏ: 1404-12-02

โ ุชุงุฑุฎ ุงูุฑูุฒ (1404-12-02) ุฏุฑ archive ููุฌูุฏ ุงุณุช
๐ฐ ุชุนุฏุงุฏ ุฑูุฒูุงููโูุง: 5

  1. ุฏูุง ุงูุชุตุงุฏ
     - ุชุงุฑุฎ: 1404-12-02
     - ุฑูุฒ ููุชู: ุณูโุดูุจู
     - PDF: โ ููุฌูุฏ
     - ุชุตูุฑ: โ ููุฌูุฏ
     - ูุฑูุช ุชุงุฑุฎ: โ ุดูุณ (1404)
```

## ูฺฉุงุช ููู:

1. **Timezone:** ุงุณฺฉุฑูพุช ุงุฒ timezone ุงุฑุงู (Asia/Tehran) ุงุณุชูุงุฏู ูโฺฉูุฏ
2. **ูุฑูุช ุชุงุฑุฎ:** ุชุงุฑุฎโูุง ุจุงุฏ ุจู ูุฑูุช ุดูุณ (YYYY-MM-DD) ุจุงุดูุฏ
3. **ุทูู ุชุงุฑุฎ:** ุชุงุฑุฎ ุฏุฑ URL ุจุงุฏ 8 ุฑูู ุจุงุดุฏ (YYYYMMDD)

## ุนุจโุงุจ:

ุงฺฏุฑ ูุดฺฉู ูุดุงูุฏู ฺฉุฑุฏุฏ:

1. ุจุฑุฑุณ ูุงฺฏโูุง ุณุฑูุฑ
2. ุจุฑุฑุณ ูุงูโูุง PDF ุฏุฑ `/public/uploads/newspapers/`
3. ุจุฑุฑุณ ุชุงุฑุฎ ูุงูโูุง
4. ุงุฌุฑุง ุงุณฺฉุฑูพุช ุชุณุช

## ุชุบุฑุงุช ุงูุฌุงู ุดุฏู:

### ูุงูโูุง ุชุบุฑ ุงูุชู:

1. `/root/www/src/app/api/v1/public/newspapers/route.ts`
   - ุงุตูุงุญ `extractPDFLinksFromEconomicsPage`
   - ุงุตูุงุญ `buildPDFViewerUrl`
   - ุงุถุงูู ฺฉุฑุฏู ููุชุฑ ุชุงุฑุฎ
   - ุชูุฒ ฺฉุฑุฏู URLูุง

2. `/root/www/src/app/api/v1/public/newspapers/archive/route.ts`
   - ุงุตูุงุญ ูุฑูุช `dateStr` ุจู ุดูุณ

3. `/root/www/src/components/site/widget/newpaper.tsx`
   - ุงุตูุงุญ `formatJalaliDate`

4. `/root/www/src/app/(site)/newspaper-kiosk/page.tsx`
   - ุงุตูุงุญ `formatDateForDisplay`


